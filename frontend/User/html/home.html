<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Home</title>

    <!-- âœ… Puter AI Script -->
    <script src="https://js.puter.com/v2/"></script>

    <style>
        .logout-btn {
            position: absolute;
            top: 15px;
            right: 20px;
            background-color: #e74c3c;
            color: white;
            padding: 10px 15px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
        }
        .logout-btn:hover {
            background-color: #c0392b;
        }
        .profile-btn {
            position: absolute;
            top: 15px;
            left: 20px;
            background-color: #3498db;
            color: white;
            padding: 10px 15px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
        }
        .profile-btn:hover {
            background-color: #217dbb;
        }

        /* âœ… Floating Chat Button */
        #chat-toggle-btn {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 60px;
            height: 60px;
            background-color: #3498db;
            color: white;
            border: none;
            border-radius: 50%;
            font-size: 24px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0px 4px 10px rgba(0,0,0,0.2);
        }

        /* âœ… Chat Window */
        #chatbox-container {
            position: fixed;
            bottom: 90px;
            right: 20px;
            width: 320px;
            height: 400px;
            background: white;
            border-radius: 10px;
            box-shadow: 0px 4px 15px rgba(0,0,0,0.2);
            display: none;
            flex-direction: column;
            overflow: hidden;
            border: 1px solid #ccc;
        }

        #chatbox-header {
            padding: 10px;
            background-color: #3498db;
            color: white;
            font-weight: bold;
            text-align: center;
        }

        #chatbox-messages {
            flex: 1;
            padding: 10px;
            overflow-y: auto;
            font-size: 14px;
        }

        #chatbox-input {
            display: flex;
            border-top: 1px solid #ddd;
        }

        #chatbox-input input {
            flex: 1;
            padding: 10px;
            border: none;
            outline: none;
        }

        #chatbox-input button {
            width: 60px;
            border: none;
            background-color: #3498db;
            color: white;
            cursor: pointer;
        }
        .loading-dots .dots {
    font-weight: bold;
    animation: dotsAnimation 1s infinite;
}

@keyframes dotsAnimation {
    0% { content: ""; }
    33% { content: "."; }
    66% { content: ".."; }
    100% { content: "..."; }
}
    </style>
</head>
<body>
    <button class="profile-btn" id="profileBtn">Profile</button>
    <button class="logout-btn" id="logoutBtn">Logout</button>
    <h1 id="welcome-text">Loading...</h1>

    <!-- âœ… Floating Chat Button -->
    <button id="chat-toggle-btn">ðŸ’¬</button>

<div id="chatbox-container">
    <div id="chatbox-header" style="display: flex; justify-content: space-between; align-items: center;">
        <span>LinguaLens AI</span>
        <!-- âœ… New Chat Button -->
        <button id="newChatBtn" style="background:none; border:none; color:white; font-size:14px; cursor:pointer;">
            âŸ³ New Chat
        </button>
    </div>

    <div id="chatbox-messages"></div>

    <div id="chatbox-input" style="display: flex; align-items: center;">

        <!-- âœ… Textarea for Shift+Enter (no + button anymore) -->
        <textarea id="userMessage" placeholder="Type a message..." 
            style="flex:1; padding:10px; border:none; outline:none; resize:none; height:40px;"></textarea>

        <button id="sendMessageBtn" style="width:60px; border:none; background-color:#3498db; color:white; cursor:pointer; font-size:20px;">
            âž¤
        </button>
    </div>
</div>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('profileBtn').addEventListener('click', function() {
                window.location.href = "profile.html";
            });
        });
    </script>
    <script src="../js/home.js"></script>
    <script src="../js/homeChatbot.js"></script>
</body>
</html>
